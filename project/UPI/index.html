<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>UPI QR (Amount locked-ish)</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="card" role="main">
      <h1>Generate UPI QR (UPI ID + Amount)</h1>
      <p class="lead">
        Enter a UPI ID and an amount. The QR encodes a UPI deep-link with the
        amount pre-filled (INR).
      </p>
      <div class="row">
        <div class="col">
          <label for="upi">UPI ID (payee address)</label>
          <input id="upi" type="text" placeholder="merchant@bank" value="" />
        </div>
        <div style="width: 150px">
          <label for="amount">Amount (â‚¹)</label>
          <input
            id="amount"
            type="number"
            step="0.01"
            min="0.01"
            placeholder="100.00"
          />
        </div>
      </div>
      <div class="row">
        <div class="col">
          <label for="payeeName">Payee name (optional)</label>
          <input id="payeeName" type="text" placeholder="Merchant Name" />
        </div>
        <div style="width: 170px">
          <label>&nbsp;</label>
          <div style="display: flex; gap: 8px">
            <button id="genBtn">Generate QR</button>
            <button id="clearBtn" class="ghost">Clear</button>
          </div>
        </div>
      </div>
      <div
        id="err"
        class="error"
        role="alert"
        aria-live="polite"
        style="display: none"
      ></div>
      <div class="qr-wrap" style="display: none" id="resultArea">
        <div class="qr-preview" id="qrBox">
          <img
            id="qrImg"
            alt="UPI QR"
            style="max-width: 100%; max-height: 100%; display: block"
          />
        </div>
        <div class="meta">
          <div><strong>Deep-link / Data</strong></div>
          <pre class="deep" id="deepLink"></pre>
          <div
            style="margin-top: 10px; display: flex; gap: 8px; flex-wrap: wrap"
          >
            <button id="dlBtn">Download QR</button>
            <button id="copyBtn" class="ghost">Copy Deep-link</button>
            <button id="openBtn" class="ghost">Open UPI Link</button>
          </div>
          <div class="tiny" style="margin-top: 10px">
            Note: The QR pre-fills the amount. Some payer apps still allow
            editing of the amount before sending. For absolute enforcement use
            payment gateways/collect APIs.
          </div>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
